<main class="content">
      <div class="page-title">
            <h4>
                  Review for yesterday ({{ yesterday | date : "dd.MM.yyyy" }})
                  <i
                        class="material-icons black-text pointer"
                        (click)="openTabTarget()"
                        >info_outline</i
                  >
            </h4>
      </div>
      <ng-container *ngIf="overview$ | async as overview; else loading">
            <div class="row">
                  <div class="col s12 l6">
                        <div class="card light-blue lighten-2 white-text">
                              <div class="card-content">
                                    <span class="card-title">Gain:</span>
                                    <h3>{{ overview.gain.yesterday }}$</h3>
                                    <h3
                                          class="m0 mb1"
                                          [ngClass]="{
                                                'red-text':
                                                      !overview.gain.isHigher,
                                                'green-text text-darken-2':
                                                      overview.gain.isHigher
                                          }">
                                          <i class="material-icons">{{
                                                overview.gain.isHigher
                                                      ? "arrow_upward"
                                                      : "arrow_downward"
                                          }}</i>
                                          {{ overview.gain.percent }}%
                                    </h3>
                                    <p
                                          >Your business revenue yesterday
                                          {{ overview.gain.percent || 100 }}%
                                          {{
                                                overview.gain.isHigher
                                                      ? "above"
                                                      : "lower"
                                          }}
                                          average:
                                          {{ overview.gain.compare || 0 }} $.
                                          Per day.</p
                                    >
                              </div>
                        </div>
                  </div>

                  <div class="col s12 l6">
                        <div class="card orange lighten-2 white-text">
                              <div class="card-content">
                                    <span class="card-title">Orders:</span>
                                    <h3
                                          >{{
                                                overview.ordersCount.yesterday
                                          }}
                                          items</h3
                                    >
                                    <h3
                                          class="m0 mb1"
                                          [ngClass]="{
                                                'red-text':
                                                      !overview.ordersCount
                                                            .isHigher,
                                                'green-text text-darken-2':
                                                      overview.ordersCount
                                                            .isHigher
                                          }">
                                          <i class="material-icons">{{
                                                overview.ordersCount.isHigher
                                                      ? "arrow_upward"
                                                      : "arrow_downward"
                                          }}</i>
                                          {{ overview.ordersCount.percent }}%
                                    </h3>
                                    <p
                                          >The number of orders yesterday is
                                          {{ overview.ordersCount.percent }}%
                                          {{
                                                overview.ordersCount.isHigher
                                                      ? "higher"
                                                      : "lower"
                                          }}
                                          average value:
                                          {{ overview.ordersCount.compare }}
                                          order. Per day</p
                                    >
                              </div>
                        </div>
                  </div>
            </div>
      </ng-container>
      <ng-template #loading>
            <crm-loader></crm-loader>
      </ng-template>
</main>

<div #tapTarget class="tap-target" data-target="menu">
      <div class="tap-target-content">
            <h5>Why this page is needed?</h5>
            <p
                  >The "Overview" page will show the dynamics of sales for
                  previous day. Comparison with averages help you understand how
                  your business is doing business.</p
            >
      </div>
</div>
